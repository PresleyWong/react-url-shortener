(this["webpackJsonpurl-shortener"]=this["webpackJsonpurl-shortener"]||[]).push([[0],{34:function(e,t,n){e.exports=n(62)},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),o=n.n(l),c=(n(39),n(9)),i=n.n(c),s=n(18),u=n(12),h=n(13),d=n(16),m=n(14),f=n(17),k=n(29),p=n.n(k).a.create({baseURL:"https://api.rebrandly.com/v1/",headers:{apikey:"27eab56fe9274b0b96c06bf00e650d78"}}),E=n(30),v=n(15),b=n(19),g=n(33),y=n(10),w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).textInput=r.a.createRef(),n.state={url:""},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"handleChange",value:function(){var e=this.textInput.current.value;this.setState({url:e})}},{key:"handleClick",value:function(e){!0!==this.checkHypertextTransferProtocol(e)&&(e="https://".concat(e)),this.props.onShorten(e)}},{key:"checkHypertextTransferProtocol",value:function(e){return!!new RegExp("^https?:\\/\\/").test(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{fluid:!0},r.a.createElement(v.a,null,r.a.createElement("h1",null,"URL Shortener"),r.a.createElement(b.a,{className:"mb-3",id:"url-input"},r.a.createElement(g.a,{ref:this.textInput,onChange:function(){return e.handleChange()},placeholder:"Shorten your link","aria-label":"Shorten your link","aria-describedby":"basic-addon2"}),r.a.createElement(b.a.Append,null,r.a.createElement(y.a,{variant:"outline-secondary",onClick:function(t){return e.handleClick(e.state.url)}},"Shorten!")))))}}]),t}(a.Component),x=n(32),S=function(e){var t=e.index,n=e.link.shortUrl,a=e.link.destination,l=e.link.id;return r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,r.a.createElement("a",{href:"https://".concat(n),target:"_blank",rel:"noopener noreferrer"},e.link.shortUrl)),r.a.createElement("td",null,r.a.createElement(y.a,{variant:"outline-danger",size:"sm",onClick:function(t){return n=l,void e.onDelete(n);var n}},"Delete")))},j=function(e){var t=e.onDelete,n=e.links.map((function(e,n){return r.a.createElement(S,{key:n,link:e,index:n+1,onDelete:t})}));return r.a.createElement(v.a,null,r.a.createElement(x.a,{responsive:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Long URL"),r.a.createElement("th",null,"Short URL"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,n)))},C=n(11),L=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{show:!0},r.a.createElement(C.a.Header,{closeButton:!0},r.a.createElement(C.a.Title,null,"Notification")),r.a.createElement(C.a.Body,null,e.message),r.a.createElement(C.a.Footer,null,r.a.createElement(y.a,{variant:"secondary",onClick:function(){e.onClose(!1)}},"Close"))))},O=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).renderModal=function(e){return r.a.createElement(L,{message:e,onClose:n.handleShowModal})},n.handleShowModal=function(e){n.setState({showModal:e})},n.getLinks=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("/links",{params:{orderBy:"createdAt",orderDir:"desc",limit:"25"}});case 2:t=e.sent,a=t.data,n.setState({links:a});case 5:case"end":return e.stop()}}),e)}))),n.createLink=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post("/links/",{destination:t}).catch((function(e){n.setState({message:e.response.data.message}),n.handleShowModal(!0)}));case 2:n.getLinks();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.deleteLink=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.delete("/links/".concat(t));case 2:n.getLinks();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={links:[],showModal:!1,message:""},n}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getLinks()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.showModal&&this.renderModal(this.state.message),r.a.createElement(w,{onShorten:this.createLink}),r.a.createElement(j,{links:this.state.links,onDelete:this.deleteLink}))}}]),t}(a.Component);n(61),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.f014099b.chunk.js.map